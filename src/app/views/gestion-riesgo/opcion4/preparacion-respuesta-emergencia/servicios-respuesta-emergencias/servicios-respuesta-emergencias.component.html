<div class="container-fluid" style="height: 73vh;">
  <app-card-title info="Se deben identificar los servicios internos de respuesta a emergencias.">
  </app-card-title>
  <div class="row justify-content-center ">
    <div class="col-12 mt-2 h-100">
      <table mat-table [dataSource]="serviciosInternosRespuestaEmergencias" class="w-100 mat-elevation-z2">
        <ng-container matColumnDef="organizacion">
          <th mat-header-cell *matHeaderCellDef>Organización</th>
          <td class="font-weight-bold" mat-cell *matCellDef="let element">
            {{ element.organizacion }}
          </td>
        </ng-container>

        <ng-container matColumnDef="funciones">
          <th mat-header-cell *matHeaderCellDef>Funciones</th>
          <td mat-cell *matCellDef="let element">{{ element.funciones }}</td>
        </ng-container>

        <ng-container matColumnDef="nombreResponsables">
          <th mat-header-cell *matHeaderCellDef>Nombre de responsables</th>
          <td mat-cell *matCellDef="let element">
            <mat-form-field>
              <textarea matInput [(ngModel)]="element.responsables" placeholder="Responsables"></textarea>
            </mat-form-field>
          </td>
        </ng-container>

        <ng-container matColumnDef="suplentes">
          <th mat-header-cell *matHeaderCellDef>Suplentes</th>
          <td mat-cell *matCellDef="let element">
            <mat-form-field>
              <textarea matInput [(ngModel)]="element.suplentes" placeholder="Suplentes"></textarea>
            </mat-form-field>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumnsServiciosRespuestaEmergencia"></tr>
        <tr mat-row *matRowDef="
              let row;
              columns: displayedColumnsServiciosRespuestaEmergencia
            "></tr>
      </table>
    </div>
  </div>
  <div class="row justify-content-center mr-0 ml-0 mt-2">
    <button color="accent" mat-raised-button (click)="guardarServiciosInternos()" type="button">Guardar</button>
  </div>
  <div class="row justify-content-center mt-2">
    <div class="col-11 mat-elevation-z2" style="border-radius: 5px;">
      <h6>
        Servicios externos de respuesta a emergencias
      </h6>
      <div class="row justify-content-start mb-2">
        <div class="col-3">
          <mat-form-field class="w-100">
            <mat-label>Institución responsable</mat-label>
            <input [(ngModel)]="servicioExterno.institucion" matInput placeholder="Institución responsable" />
          </mat-form-field>
        </div>
        <div class="col-3">
          <mat-form-field class="w-100">
            <mat-label>Nombre de contacto</mat-label>
            <input [(ngModel)]="servicioExterno.nombreContacto" matInput placeholder="Nombre de contacto" />
          </mat-form-field>
        </div>
        <div class="col-3">
          <mat-form-field class="w-100">
            <mat-label>Telefono</mat-label>
            <input [(ngModel)]="servicioExterno.telefono" matInput placeholder="Telefono" type="tel" />
          </mat-form-field>
        </div>
        <div class="col-3">
          <div class="row justify-content-center">
            <button class="mt-2" type="button" color="accent" mat-raised-button (click)="agregarServicioExterno()"
              [disabled]="!servicioExterno.valid()">Agregar</button>
          </div>
        </div>
      </div>
    </div>
    <div class="col-11 mt-2 h-100 p-0">
      <h5>Directorio</h5>
      <table #tablaServiciosExternos mat-table [dataSource]="dataSourceDirectorio" class="w-100 mat-elevation-z2">
        <ng-container matColumnDef="institucion">
          <th mat-header-cell *matHeaderCellDef>Institucion responsable</th>
          <td class="font-weight-bold" style="padding-left: 24px !important;" mat-cell *matCellDef="let element">
            {{ element.institucion }}
          </td>
        </ng-container>

        <ng-container matColumnDef="nombreContacto">
          <th mat-header-cell *matHeaderCellDef>Nombre de contacto</th>
          <td mat-cell *matCellDef="let element">{{ element.nombreContacto }}</td>
        </ng-container>

        <ng-container matColumnDef="telefono">
          <th mat-header-cell *matHeaderCellDef>Telefono</th>
          <td mat-cell *matCellDef="let element" style="padding-right: 24px !important;">
            {{element.telefono}}
            <!-- <mat-form-field>
                <textarea matInput [(ngModel)]="element.telefono" placeholder="Responsables"></textarea>
              </mat-form-field> -->
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumnsDirectorio"></tr>
        <tr mat-row *matRowDef="
              let row;
              columns: displayedColumnsDirectorio
            "></tr>
      </table>
    </div>
  </div>
</div>
